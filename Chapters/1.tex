\section{Integral de Riemann}

Sea $f: [a$, $b] \subseteq \R \to \R$ una función.
Una partición $P$ de $[a$, $b]$ es un conjunto finito \\ $\{ x_0$, $x_1$, $\cdots$, $x_n \}$, con
$a = x_0 < x_1 < \cdots < x_n = b$. A $P$ le asignamos una norma $\| P \| = \max \{ l(J_k) \}$. $J_k = [x_{k-1}$, $x_k]$ y a cada $P$ le
podemos asignar una etiqueta, que es un vector $\xi = (\xi_1$, $\cdots$, $\xi_n)$ tal que $\xi_k \in J_k$. Una partición etiquetada es un par
$(P$, $\xi)$; y le podemos asignar su suma de Riemann \begin{align*}S(P\text{, } \xi) = \sum_{k=1}^{n} f(\xi_k) l(J_k)\end{align*}

\begin{definition}[Integrable Riemann]
    Una función $f: [a$, $b] \to \R$ es integrable Riemann si
    \begin{align*}
        \exists I \in \R : \forall \e > 0\text{, }\exists \delta > 0 : | S(P\text{, } \xi) - I | < \e \text{ si } (P\text{, } \xi) \text{ es tal que } \| P \| \leq \delta
    \end{align*}
\end{definition}

\begin{prop}
    Si $f$ es integrable Riemann entonces es acotada.
    \begin{proof}
        Ejercicio.
    \end{proof}
\end{prop}

Si $f$ es acotada, dada una partición $P$ del dominio de $f$, para cada $i \in 1 \text{, } \cdots \text{, } n$ definimos:
\begin{align*}
    M_i = \sup \left\{ f(x) : x \in J_i \right\} \text{ y } m_i = \inf\left\{ f(x) : x \in J_i \right\}
\end{align*}

Luego definimos la suma superior y la suma inferior asociada a $P$ como:
\begin{align*}
    S(f\text{, } P) = \sum_{k=1}^{n} M_k l(J_k) \text{ y } s(f\text{, } P) = \sum_{k=1}^{n} m_k l(J_k)
\end{align*}

Entonces podemos definir suma superior e inferior de Riemann como

\begin{align*}
     & \lowint_a^b f(x) \, \mathrm{d}x = \sup \left\{ S(f\text{, } P) : P \text{ partición de } [a\text{, } b] \right\} \text{ y } \\
     & \upint_a^b f(x) \, \mathrm{d}x = \inf \left\{ s(f\text{, } P) : P \text{ partición de } [a\text{, } b] \right\}
\end{align*}


\begin{prop}
    Dada una función $f: [a$, $b] \to \R$, $f$ es integrable Riemann $\iff$ es acotada y la suma superior es igual a la inferior.
\end{prop}

\begin{note}
    $f$ es integrable Riemann si: \begin{enumerate}
        \item $f$ es continua.
        \item $f$ es continua salvo finitos puntos en los que existen los límites laterales.
        \item $f$ es monótona y acotada (en este caso pueden existir numerables discontinuidades).
    \end{enumerate}
\end{note}

\subsection{Desventajas de la integral de Riemann}
\begin{itemize}
    \item Exige que la función oscile poco en intervalos pequeños.
    \item Hay funciones simples que no son integrables Riemann.
    \item No se comporta bien con respecto a la convergencia puntual.
\end{itemize}

\begin{eg}
    Sea $f: [0 \text{, } 1] \to \R : f(x) = \begin{cases}
            1 & x \in \Q              \\
            0 & x \in \R \setminus \Q
        \end{cases} f$ no es integrable Riemann.
    \begin{proof}
        Llamemos $A = [0 \text{, } 1] \cap \Q$. $A$ es numerable entonces $\exists \sigma: \N \to A$ biyectiva. Para cada $n \in \N$, sea
        $A_n = \left\{ \sigma(1)\text{, } \cdots \text{, } \sigma(n) \right\}$, $A_n \subset A_{n+1}$ y $\bigcup_{n=1}^{\infty} A_n = A$.
        Ahora para cada $n \geq 1$ consideramos:
        $f_n: [0, 1] \to \R$ dada por
        \begin{align*}
            f_n(x) = \begin{cases}
                         1 & x \in A_n                          \\
                         0 & x \in [0\text{, } 1] \setminus A_n
                     \end{cases}
        \end{align*}
        $f_n$ es integrable Riemann (queda como ejercicio demostrarlo) ya que es continua salvo en los puntos de $A_n$ y
        los límites laterales son siempre cero.
        Veamos ahora que $f_n \to f$. Sea $x \in [0, 1]$ \begin{enumerate}
            \item Si $x \in A$ \begin{align*}
                       & \Rightarrow x \in A_{n_0} \quad n_0 \in \N     \\
                       & \Rightarrow (\forall n > n_0) \quad x \in A_n  \\
                       & \Rightarrow (\forall n > n_0) \quad f_n(x) = 1 \\
                       & \Rightarrow f_n(x) \to f(x) = 1
                  \end{align*}
            \item Si $x \notin A \Rightarrow (\forall n \in \N) \quad x \notin A_n \Rightarrow (\forall n \in \N) \quad f_n(x) = 0 \Rightarrow f_n(x) \to f(x) = 0$.
        \end{enumerate} $\therefore f_n \to f$.
        Si conocieramos $\ell(A)$ y $\ell([0, 1] \setminus A)$ podríamos definir $\int f = 1 \times \ell(A) + 0 \times \ell([0, 1] \setminus A)$.
    \end{proof}
\end{eg}

\clearpage

\section{Espacios Medibles}

Dado $X$ un conjunto arbitrario no vacío. Sea $\mc{P}(X)$ el conjunto de partes de $X$.

\begin{definition}[$\sigma$-álgebra]
    Una familia $\mf{X}$ es una $\sigma$-álgebra si verifica:
    \begin{enumerate}
        \item $\O$, $X \in \mf{X}$.
        \item Si $A \in X \Rightarrow A^c \in \mf{X}$.
        \item Sea $(A_n)_{n \geq 1}$ una sucesión en $\mf{X} \Rightarrow \bigcup_{n=1}^{\infty} A_n \in \mf{X}$.
    \end{enumerate}
\end{definition}

\begin{definition}[Conjunto Medible]
    Si $\mf{X}$ es una $\sigma$-álgebra de subconjuntos de $\mf{X}$ el par $(X\text{, }\mf{X})$ es un espacio medible. A cada $A \in \mf{X}$
    lo llamaremos conjunto $\mf{X}$-medible.
\end{definition}

\begin{note}
    Si $\mf{X}$ es una $\sigma$-álgebra de $X$ y $A_1 \text{, } \cdots \text{, } A_n \in \mf{X}$ entonces $\bigcup_{k=1}^{n} A_k \in \mf{X}$.
    \begin{proof}
        Sea $(B_m)_{m \geq 1}$ la sucesión en $\mf{X}$ definida por \begin{equation*}
            B_m = \begin{cases}
                A_m & 1 \leq m \leq n \\
                \O  & m > n
            \end{cases}
        \end{equation*}
        Luego $\bigcup_{m \geq 1} B_m = \bigcup_{i = 1}^n A_n \in \mf{X}$ por definición de $\sigma$-álgebra.
    \end{proof}
\end{note}

\begin{note}
    Si $(A_n)_{n \geq 1}$ es una sucesión de una $\sigma$-álgebra $\mf{X}$ entonces $\bigcap_{n=1}^{\infty} A_n \in \mf{X}$.
    \begin{proof}
        $\bigcup_{n \geq 1} A_n^c \in \mf{X} \Rightarrow (\bigcap_{n \geq 1} A_n^c)^c \in \mf{X} \Rightarrow \bigcup_{n \geq 1} A_n \in \mf{X}$.
    \end{proof}
\end{note}

\begin{eg}[$\sigma$-álgebras]
    Dado $X$ cualquiera no vacío.
    \begin{enumerate}
        \item $\mf{X} = \{ \O, X \}$ es una $\sigma$-álgebra.
        \item $\mf{X} = \mc{P}(X)$ es una $\sigma$-álgebra.
        \item Sea $A \neq \O \subset X$. Luego $\mf{X} = \{ \O, A, A^c, X \}$ es una $\sigma$-álgebra.
    \end{enumerate}
\end{eg}

\begin{eg}
    Supongamos que $X$ no es numerable y sea
    \begin{equation*}
        \mf{X} = \{ A \subseteq X : A \text{ es numerable ó } A^c \text{ es numerable} \}
    \end{equation*}
    es una $\sigma$-álgebra tal que $\mf{X} \neq \mc{P}(X)$.
    \begin{proof}
        \begin{enumerate}
            \item $\O$ es numerable y $X^c = \O$ es numerable $\Rightarrow \O$, $X \in \mf{X}$.
            \item Sea $A \in \mf{X}$. Si $A$ es numerable entonces $A^c \in \mf{X}$, pues $(A^c)^c$ es numerable.
                 Si $A$ es no numerable, tal que $A \in \mf{X} \Rightarrow A^c$ es numerable y $A^c \in \mf{X}$. 
            \item Sea $(A_n)_{n \geq 1}$ una sucesión en $\mf{X}$. Tenemos que para cada $n \in \N$, $A_n$ es numerable o $A_n^c$ lo es.
                    Luego si todos los $A_n$ son numerables, $\bigcup_{n \geq 1} A_n$ es numerable y luego $\bigcup_{n \geq 1} A_n \in \mf{X}$. Por otro lado, si existe al menos un $n_0 \in \N$ tal que $A_{n_0}$ es no numerable, entonces 
                    $\bigcup_{n \geq 1} A_n$ es no numerable, pero $\bigcap_{n \geq 1} A_n^c \subseteq A_{n_0}$ es tal que $A_{n_0}^c$ es numerable y por lo tanto $\bigcup_{n \geq 1} A_n \in \mf{X}$. 
        \end{enumerate}
    \end{proof}
\end{eg}

\begin{lemma}
    Dado un conjunto $X$, sean $\mf{X}_1, \mf{X}_2$ dos $\sigma$-álgebras de $X$. Entonces $\mf{X}_1 \cap \mf{X}_2$ es una $\sigma$-álgebra de $X$.
    Más aún si $(\mf{X}_i)_{i \in I}$ es una familia de $\sigma$-álgebras de $X$ entonces $\bigcap_{i \in I} \mf{X}_i$ es una $\sigma$-álgebra de $X$.
    \begin{proof}
        Sean $\mf{X}_1$, $\mf{X}_2$ $\sigma$-álgebras de $X$.
        \begin{enumerate}
            \item $\O$, $X \in \mf{X}_1$ y $\mf{X}_2 \Rightarrow \O$, $X \in \mf{X}_1 \cap \mf{X}_2$.
            \item Sea $A \in \mf{X}_1 \cap \mf{X}_2$ entonces $A^c \in \mf{X}_1$ y $A^c \in \mf{X}_2$.
                  Luego $A^c \in \mf{X}_1 \cap \mf{X}_2$.
            \item Sea $(A_n)_{n \geq 1}$ una sucesión en $\mf{X}_1 \cap \mf{X}_2$. Entonces $\bigcup_{n=1}^{\infty} A_n \in \mf{X}_1$ y $\bigcup_{n=1}^{\infty} A_n \in \mf{X}_2$.
                  Luego $\bigcup_{n=1}^{\infty} A_n \in \mf{X}_1 \cap \mf{X}_2$.
        \end{enumerate}
        Para demostrar lo último, aplicamos inducción sobre $n \in \N$, donde el caso base es $n = 2$, que acabamos de probar.
    \end{proof}
\end{lemma}

\begin{prop}[$\sigma$-álgebra generada por $A$]
    Dado un conjunto $X$, sea $A \neq \O \subseteq \mc{P}(X) \Rightarrow \exists$ $\sigma$-álgebra $\sigma(A)$ que verifica: \begin{enumerate}
        \item $A \subseteq \sigma(A)$.
        \item $\mf{X}$ es $\sigma$-álgebra de $X$ tal que $A \subseteq X \Rightarrow \sigma(A) \subseteq \mf{X}$.
        \item $\sigma(A)$ es la única que verifica ambas propiedades en simultáneo.
    \end{enumerate}

    \begin{proof}
        Sea $\Delta = \{ \mathscr{C} \subseteq \mc{P}(X) : \mathscr{C} \text{ es } \sigma \text{-álgebra de } X \text{ y } A \subseteq \mathscr{C} \} \neq \O$ pues $\mc{P}(X) \in \Delta$.
        Llamemos $\mf{X} = \bigcap_{\mathscr{C} \in \Delta} \mathscr{C} = \{ B \in \mc{P}(X) : B \in \mathscr{C} (\forall \mathscr{C} \in \Delta) \}$.
        Veamos que $\mf{X}$ es una $\sigma$-álgebra de $X$.
        \begin{enumerate}
            \item $\O\text{, } X \in \mathscr{C} (\forall \mathscr{C} \in \Delta) \Rightarrow \O\text{, } X \in \mf{X}$.
            \item Sea $A \in \mf{X} \Rightarrow (\forall \mathscr{C} \in \Delta) A \in \mathscr{C} \Rightarrow A^c \in \mathscr{C} (\forall \mathscr{C} \in \Delta) \Rightarrow A^c \in \mf{X}$.
            \item Sea $(A_n)_{n \geq 1}$ una sucesión en $\mf{X}$ el argumento es análogo a los dos anteriores.
        \end{enumerate}
        $\therefore$ $\mf{X}$ es una $\sigma$-álgebra que verifica ambas condiciones.
        Supongamos que existe otra $\overline{\mf{X}}$ $\sigma$-álgebra que verifica las dos condiciones, por la propiedad uno y dos podemos deducir que $\mf{X} \subseteq \overline{\mf{X}}$ y $\overline{\mf{X}} \subseteq \mf{X}$.
    \end{proof}
\end{prop}

\begin{eg}
    Consideremos $X = \R$ y sea $A = \{ (a$, $b) : a$, $b \in \R, a \leq b \}$. La $\sigma$-álgebra generada por $A$ es la $\sigma$-álgebra de Borel $\mc{B}$.
    A los conjuntos de $\mc{B}$ los llamaremos conjuntos Borelianos. Veamos que si $\overline{A} = \{ (a\text{, } +\infty) : a \in \R \} \Rightarrow \sigma(\overline{A}) = \mc{B}$.
    \begin{proof}
        \begin{itemize}
            \item Dado $a \in \R\text{, } (a, +\infty) = \bigcup_{n \geq 1} (a\text{, } a+n) \in \mc{B} \Rightarrow \overline{A} \subseteq \mc{B}$.
                  Luego $\sigma(\overline{A}) \subseteq \mc{B}$. Por ser $\sigma(\overline{A})$ la mínima $\sigma$-álgebra que contiene a $\overline{A}$.
            \item Dado $a\text{, } b \in \R \text{, } a < b$. Sabemos que $(a\text{, } b] = (a\text{, } +\infty) \cap (b\text{, } +\infty)^c \in \sigma(\overline{A})$.
                  Luego $(a\text{, } b) = \bigcup_{n \geq 1} (a\text{, } b - \frac{1}{n}] \in \sigma(\overline{A})$. Por lo que $A \subset \sigma(\overline{A})$.
                  $\mc{B} = \sigma(A) \subset \sigma(\overline{A})$. Por ser $\sigma(A)$ la mínima $\sigma$-álgebra que contiene a $A$.
        \end{itemize}
    \end{proof}
\end{eg}

Ejercicio demostrar que la $\sigma$-álgebra de Borel está generada también por las siguientes familias:

\begin{enumerate}
    \item $\{ (a, b] : a, b \in \R, a < b \}$.
    \item $\{ [a, b) : a, b \in \R, a < b \}$.
    \item $\{ [a, b] : a, b \in \R, a < b \}$.
    \item $\{ [a, +\infty) : a \in \R \}$.
    \item $\{ (-\infty, a) : a \in \R \}$.
    \item $\{ (-\infty, a] : a \in \R \}$.
\end{enumerate}

Luego, se puede ver que $\{ a \} = \bigcap_{n \geq 1} [a, a - \frac{1}{n}) \in \mc{B}$.